<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no" />
  <title>Tournaments | Yacht-dice</title>
  <link rel="stylesheet" href="TemplateData/style.css">
  <link rel="stylesheet" href="TemplateData/customStyle.css">
</head>

<body style="text-align: center; padding: 0; border: 0; margin: 0; background-color: black">
<div id="unity-container" class="unity-desktop">
  <canvas id="unity-canvas" width="100%" height="100%"> </canvas>
  <div id="spinner-div">
      <img src="TemplateData/title.png" style="height: 100%" style="position: absolute">
      <img src="TemplateData/bg1.png" style="position: absolute">
      <div class="loading-wrap">
          <img class="loading" src="TemplateData/loading.png" />
      </div>
  </div>
  <div id="unity-warning"> </div>
  <div id="unity-footer">
    <div id="unity-webgl-logo"></div>
    <div id="unity-fullscreen-button"></div>
    <div id="unity-build-title"></div>
  </div>
</div>
<script>
  var container = document.querySelector("#unity-container");
  var canvas = document.querySelector("#unity-canvas");

  var warningBanner = document.querySelector("#unity-warning");
  var spinnerContainer = document.querySelector("#spinner-container");
  var spinnerDiv = document.querySelector("#spinner-div");

  var meta = document.createElement('meta');
  meta.name = 'viewport';
  meta.content = 'width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes';
  document.getElementsByTagName('head')[0].appendChild(meta);

  canvas.style.position = "absolute";
  canvas.style.top =  "50%";
  canvas.style.left = "50%";
  canvas.style.transform = "translate(-50%, -50%)";


  spinnerDiv.style.backgroundColor="black";

 
  if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent) === false) {
    if (window.innerHeight > window.innerWidth) {
      canvas.style.maxWidth = `calc(100vh * ${window.innerWidth} / ${window.innerHeight})`;
      canvas.style.maxHeight = `calc(100vw * ${window.innerHeight} / ${window.innerWidth})`;
      spinnerDiv.style.maxWidth = `calc(100vh * ${window.innerWidth} / ${window.innerHeight})`;
      spinnerDiv.style.maxHeight = `calc(100vw * ${window.innerHeight} / ${window.innerWidth})`;
    } else {

      canvas.style.maxWidth = `calc(100vh * ${window.innerHeight} / ${window.innerWidth})`;
      canvas.style.maxHeight = `calc(100vw * ${window.innerWidth} / ${window.innerHeight})`;
      spinnerDiv.style.maxWidth = `calc(100vh * ${window.innerHeight} / ${window.innerWidth})`;
      spinnerDiv.style.maxHeight = `calc(100vw * ${window.innerWidth} / ${window.innerHeight})`;
    }
  }

  canvas.style.maxWidth = `calc(100vh * ${window.innerWidth} / ${window.innerHeight})`;
  canvas.style.maxHeight = `calc(100vw * ${window.innerHeight} / ${window.innerWidth})`;
  spinnerDiv.style.maxWidth = `calc(100vh * ${window.innerWidth} / ${window.innerHeight})`;
  spinnerDiv.style.maxHeight = `calc(100vw * ${window.innerHeight} / ${window.innerWidth})`;

  canvas.style.width = "100%";
  canvas.style.height = "100%";

  spinnerDiv.style.width = "100%";
  spinnerDiv.style.height = "100%";

  spinnerDiv.style.display="flex";
  spinnerDiv.style.justifyContent="center";
  spinnerDiv.style.alignItems="center";




  var loaderUrl = "Build/{{{ LOADER_FILENAME }}}"
  var config = {
    dataUrl: "Build/{{{ DATA_FILENAME }}}",
    frameworkUrl: "Build/{{{ FRAMEWORK_FILENAME }}}",
    codeUrl: "Build/{{{ CODE_FILENAME }}}",
    memoryUrl: "Build/{{{ MEMORY_FILENAME }}}",
    symbolsUrl: "Build/{{{ SYMBOLS_FILENAME }}}",
    streamingAssetsUrl: "StreamingAssets",
    companyName: "{{{ COMPANY_NAME }}}",
    productName: "{{{ PRODUCT_NAME }}}",
    productVersion: "{{{ PRODUCT_VERSION }}}",
  };

  var unityInstance = null;

  var script = document.createElement("script");
  script.src = loaderUrl;

  script.onload = () => {
    createUnityInstance(canvas, config, (progress) => {

    }).then((unityInstance) => {
      window.unityInstance = unityInstance;

      setTimeout(() => {
        spinnerDiv.style.display = "none";
      }, 100);

    }).catch((message) => {
      alert(message);
    });
  };
  document.body.appendChild(script);

  document.addEventListener('touchstart', function (event) {
            if (event.touches.length > 1) {
              event.preventDefault();
            }
          },
          { passive: false });

  var lastTouchEnd = 0;
  document.addEventListener('touchend', function (event) {
    var now = (new Date()).getTime();
    if (now - lastTouchEnd <= 300) {
      event.preventDefault();
    }
    lastTouchEnd = now;
  }, false);
  

</script>
</body>
</html>